# Last modified on 10 February 2020.

CREATE TABLE IF NOT EXISTS esm_data (
    participant_name VARCHAR(36) NOT NULL,
    file_name VARCHAR(255) NOT NULL,
    file_size INT NOT NULL,
    file_modified_on INT NOT NULL,

    project_id VARCHAR(255) NOT NULL,
    user_id VARCHAR(36) NOT NULL,
    source_id VARCHAR(36) NOT NULL,
    time INT NOT NULL,
    time_completed_utc INT NOT NULL,
    time_completed_local DATETIME NOT NULL,
    time_interval INT NOT NULL,
    time_notification INT DEFAULT NULL,
    name VARCHAR(10) NOT NULL,
    version VARCHAR(10) NOT NULL,

    question_id0 VARCHAR(36) NULL,
    value0 TINYINT NULL,
    start_time0 INT NULL,
    end_time0 INT NULL,
    question_id1 VARCHAR(36) NULL,
    value1 TINYINT NULL,
    start_time1 INT NULL,
    end_time1 INT NULL,
    question_id2 VARCHAR(36) NULL,
    value2 TINYINT NULL,
    start_time2 INT NULL,
    end_time2 INT NULL,
    question_id3 VARCHAR(36) NULL,
    value3 TINYINT NULL,
    start_time3 INT NULL,
    end_time3 INT NULL,
    question_id4 VARCHAR(36) NULL,
    value4 TINYINT NULL,
    start_time4 INT NULL,
    end_time4 INT NULL,
    question_id5 VARCHAR(36) NULL,
    value5 TINYINT NULL,
    start_time5 INT NULL,
    end_time5 INT NULL,
    question_id6 VARCHAR(36) NULL,
    value6 TINYINT NULL,
    start_time6 INT NULL,
    end_time6 INT NULL,
    question_id7 VARCHAR(36) NULL,
    value7 TINYINT NULL,
    start_time7 INT NULL,
    end_time7 INT NULL,
    question_id8 VARCHAR(36) NULL,
    value8 TINYINT NULL,
    start_time8 INT NULL,
    end_time8 INT NULL,
    question_id9 VARCHAR(36) NULL,
    value9 TINYINT NULL,
    start_time9 INT NULL,
    end_time9 INT NULL,
    question_id10 VARCHAR(36) NULL,
    value10 TINYINT NULL,
    start_time10 INT NULL,
    end_time10 INT NULL,
    question_id11 VARCHAR(36) NULL,
    value11 TINYINT NULL,
    start_time11 INT NULL,
    end_time11 INT NULL,
    question_id12 VARCHAR(36) NULL,
    value12 TINYINT NULL,
    start_time12 INT NULL,
    end_time12 INT NULL,
    question_id13 VARCHAR(36) NULL,
    value13 TINYINT NULL,
    start_time13 INT NULL,
    end_time13 INT NULL,
    question_id14 VARCHAR(36) NULL,
    value14 TINYINT NULL,
    start_time14 INT NULL,
    end_time14 INT NULL,
    question_id15 VARCHAR(36) NULL,
    value15 TINYINT NULL,
    start_time15 INT NULL,
    end_time15 INT NULL,
    question_id16 VARCHAR(36) NULL,
    value16 TINYINT NULL,
    start_time16 INT NULL,
    end_time16 INT NULL,
    question_id17 VARCHAR(36) NULL,
    value17 VARCHAR(36) NULL,
    start_time17 INT NULL,
    end_time17 INT NULL,
    question_id18 VARCHAR(36) NULL,
    value18 TINYINT NULL,
    start_time18 INT NULL,
    end_time18 INT NULL,
    question_id19 VARCHAR(36) NULL,
    value19 TINYINT NULL,
    start_time19 INT NULL,
    end_time19 INT NULL,
    question_id20 VARCHAR(36) NULL,
    value20 TINYINT NULL,
    start_time20 INT NULL,
    end_time20 INT NULL,
    question_id21 VARCHAR(36) NULL,
    value21 TINYINT NULL,
    start_time21 INT NULL,
    end_time21 INT NULL,
    question_id22 VARCHAR(36) NULL,
    value22 TINYINT NULL,
    start_time22 INT NULL,
    end_time22 INT NULL,
    question_id23 VARCHAR(36) NULL,
    value23 TINYINT NULL,
    start_time23 INT NULL,
    end_time23 INT NULL,
    question_id24 VARCHAR(36) NULL,
    value24 TINYINT NULL,
    start_time24 INT NULL,
    end_time24 INT NULL,
    question_id25 VARCHAR(36) NULL,
    value25 TINYINT NULL,
    start_time25 INT NULL,
    end_time25 INT NULL,
    question_id26 VARCHAR(36) NULL,
    value26 VARCHAR(36) NULL,
    start_time26 INT NULL,
    end_time26 INT NULL,
    question_id27 VARCHAR(36) NULL,
    value27 TINYINT NULL,
    start_time27 INT NULL,
    end_time27 INT NULL,
    question_id28 VARCHAR(36) NULL,
    value28 TINYINT NULL,
    start_time28 INT NULL,
    end_time28 INT NULL,
    question_id29 VARCHAR(36) NULL,
    value29 TINYINT NULL,
    start_time29 INT NULL,
    end_time29 INT NULL,
    question_id30 VARCHAR(36) NULL,
    value30 TINYINT NULL,
    start_time30 INT NULL,
    end_time30 INT NULL,
    question_id31 VARCHAR(36) NULL,
    value31 TINYINT NULL,
    start_time31 INT NULL,
    end_time31 INT NULL,
    question_id32 VARCHAR(36) NULL,
    value32 TINYINT NULL,
    start_time32 INT NULL,
    end_time32 INT NULL,
    question_id33 VARCHAR(36) NULL,
    value33 TINYINT NULL,
    start_time33 INT NULL,
    end_time33 INT NULL,
    question_id34 VARCHAR(36) NULL,
    value34 TINYINT NULL,
    start_time34 INT NULL,
    end_time34 INT NULL,
    question_id35 VARCHAR(36) NULL,
    value35 TINYINT NULL,
    start_time35 INT NULL,
    end_time35 INT NULL,
    question_id36 VARCHAR(36) NULL,
    value36 TINYINT NULL,
    start_time36 INT NULL,
    end_time36 INT NULL,
    question_id37 VARCHAR(36) NULL,
    value37 TINYINT NULL,
    start_time37 INT NULL,
    end_time37 INT NULL,
    question_id38 VARCHAR(36) NULL,
    value38 TINYINT NULL,
    start_time38 INT NULL,
    end_time38 INT NULL,
    question_id39 VARCHAR(36) NULL,
    value39 TINYINT NULL,
    start_time39 INT NULL,
    end_time39 INT NULL,
    question_id40 VARCHAR(36) NULL,
    value40 TINYINT NULL,
    start_time40 INT NULL,
    end_time40 INT NULL,
    question_id41 VARCHAR(36) NULL,
    value41 VARCHAR(36) NULL,
    start_time41 INT NULL,
    end_time41 INT NULL,
    question_id42 VARCHAR(36) NULL,
    value42 TINYINT NULL,
    start_time42 INT NULL,
    end_time42 INT NULL,
    question_id43 VARCHAR(36) NULL,
    value43 TINYINT NULL,
    start_time43 INT NULL,
    end_time43 INT NULL,
 
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    UNIQUE KEY record_id (project_id, user_id, source_id, time, time_completed_utc, name, version),
    FOREIGN KEY (participant_name) REFERENCES participants(participant_name),
    FOREIGN KEY (time_interval) REFERENCES timeIntervals(timeInterval_ID)
);